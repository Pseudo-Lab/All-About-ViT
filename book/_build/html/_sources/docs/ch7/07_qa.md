# Q&A

## window partition ì½”ë“œ

sepvit ì½”ë“œì—ì„œ window partitionì„ ìˆ˜í–‰í•˜ëŠ” ë¶€ë¶„ì´ ì–´ë””ì¼ê¹Œìš”...?

>íŒ€í˜ì´ì§€ SepViT í˜ì´ì§€ì— ìˆëŠ” SepViT Code ë³´ì‹œë©´ Transformer Module ì¤‘ DSSAë¼ëŠ” classê°€ ìˆìŠµë‹ˆë‹¤.
def forwardì˜ x = rearrange(x, 'b c (h w1) (w w2) -> (b h w) c (w1 w2)', w1 = wsz, w2 = wsz) ë¶€ë¶„ì—ì„œ wszê°€ window sizeì´ê³  xë¥¼ rearrangeí•´ì„œ ë§ˆì§€ë§‰ shapeì„ windowsize^2ë¡œ ë§Œë“¤ì–´ì£¼ê³  ê±°ê¸°ì— random initializeí•œ window_tokensë¥¼ concatí•©ë‹ˆë‹¤.
ëª…í™•íˆ window partition ë¶€ë¶„ì´ ì–´ë””ëƒê³  í•œë‹¤ë©´ rearrangeí•˜ëŠ” ë¶€ë¶„ì´ ì•„ë‹ê¹Œ ì‹¶ë„¤ìš”. ğŸ™‚
>

ê°ì‚¬í•©ë‹ˆë‹¤. ğŸ˜„  window partitionì´ë¼ëŠ”ê²Œ patch splitê³¼ ì–´ë–¤ ë¶€ë¶„ì´ ë‹¤ë¥¸ ê±´ì§€ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤;; êµ³ì´ windowë¼ê³  ëª…ëª…í•œ ì´ìœ ê°€ í˜¹ì‹œ ë­ë¼ê³  ìƒê°í•˜ì‹œë‚˜ìš”? 

>ë³¸ ë…¼ë¬¸ì—ì„œ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ViT ëª¨ë¸ê³¼ patch splitì— ëŒ€í•´ ìì„¸íˆ ì„¤ëª…í•˜ê±°ë‚˜ window partition ê°œë…ê³¼ ë¹„êµí•˜ëŠ” ë¶€ë¶„ì´ ì—†ì–´ì„œ ì €ë„ ì´í•´í•˜ëŠ”ë° ì¢€ í˜ë“¤ì—ˆìŠµë‹ˆë‹¤ ã… 
ê°œì¸ì ìœ¼ë¡œ ìƒê°í–ˆì„ ë•Œ, feature mapì„ windowë¡œ ë‚˜ëˆ ì£¼ê³  ê° windowë§ˆë‹¤ learnable window tokenì„ ë¶€ì—¬í•¨ìœ¼ë¡œì¨ within window, among window information interactionì„ ë™ì‹œì— ë‚˜íƒ€ë‚´ê¸° ìœ„í•¨ì´ì§€ ì•Šì„ê¹Œ ì‹¶ìŠµë‹ˆë‹¤.
>

í ... feature map ì„ ë½‘ì•„ì„œ ë‚˜ëˆ„ëŠëƒ ë‚˜ëˆ„ê³ ë‚˜ì„œ feature mapì„ ë½‘ëŠë‚´ì˜ ì°¨ì´ë¼ê³  í•´ì•¼í• ê¹Œìš”...?

>window partitionì˜ ê²½ìš° overlapping patch embeddingê³¼ positional encoding generatorë¥¼ ê±°ì¹œ í›„ feature mapì„ í˜•ì„±ì‹œí‚¨ ìƒíƒœì—ì„œ windowë¥¼ ë‚˜ëˆ„ê²Œ ë©ë‹ˆë‹¤. ì´ ìƒíƒœì—ì„œ window tokenì„ ë¶€ì—¬í•˜ê³  feature mapì„ ë½‘ì•„ë‚´ëŠ” ì‘ì—…ì„ ë°˜ë³µí•©ë‹ˆë‹¤.
patch splitì˜ ê²½ìš°ì—” input ìì²´ë¥¼ patchë¡œ ë‚˜ëˆ ì£¼ê³  patch ê°„ì˜ self-attentionì„ í†µí•´ feature mapì„ ë½‘ì•„ë‚´ê²Œ ë˜ì£ . ì´ ì°¨ì´ê°€ ì•„ë‹ê¹Œìš”?
ì œê°€ ì´í•´í•œê²Œ ë§ëŠ”ì§€ë„ ì˜êµ¬ì‹¬ì´ ë“œë„¤ìš” ã…‹ã…‹
>

---
  
Edit by `ê¹€ì£¼ì˜`